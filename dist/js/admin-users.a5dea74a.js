(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin-users"],{"0043":function(t,e,a){"use strict";var n=a("98c7"),r=a.n(n);r.a},"53c9":function(t,e,a){},"59ee":function(t,e,a){"use strict";var n=a("789b"),r=a.n(n);r.a},"5d35":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-site"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("HeadingSection",{attrs:{title:t.$t("DRS_LIST.TITLE"),icon:"people"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:t.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","text-xs-right":"","mb-2":"","mt-2":"","pr-2":""}},[a("v-btn",{staticClass:"btnNewItem pr-4",attrs:{color:"primary"},on:{click:function(e){t.editedItem={},t.dialog=!0}}},[a("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v("\n        "+t._s(t.$t("DRS_LIST.dataTable.NEW_ITEM"))+"\n      ")],1),a("UserForm",{attrs:{save:t.save,item:t.editedItem},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"","pa-3":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{"must-sort":"",loading:t.dataTableLoading,"rows-per-page-text":t.$t("dataTable.ROWS_PER_PAGE"),"no-data-text":t.$t("dataTable.NO_DATA"),"no-results-text":t.$t("dataTable.NO_RESULTS"),"rows-per-page-items":[5,10,25],headers:t.headers,items:t.items,pagination:t.pagination,"total-items":t.totalItems},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"fill-height px-0"},[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("edit")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editInvestment(e.item)}},slot:"activator"},[a("v-icon",[t._v("attach_money")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT_INVESTMENT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.deleteItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v(t._s(t.$t("dataTable.DELETE")))])],1)],1)],1),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(t.roleName(e.item.role)))]),a("td",{domProps:{innerHTML:t._s(t.trueFalse(e.item.verified))}}),a("td",[t._v(t._s(e.item.city))]),a("td",[t._v(t._s(e.item.country))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(t.getFormat(e.item.createdAt)))]),a("td",[t._v(t._s(t.getFormat(e.item.updatedAt)))])]}},{key:"pageText",fn:function(e){return[t._v("\n        "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" "+t._s(t.$t("dataTable.OF"))+"\n        "+t._s(e.itemsLength)+"\n      ")]}},{key:"no-data",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_RESULTS")))]},proxy:!0}])})],1),a("ErrorMessage"),a("SuccessMessage"),a("InvForm",{attrs:{save:t.saveInv,item:t.editedInv,user:t.invUser},model:{value:t.inv_dialog,callback:function(e){t.inv_dialog=e},expression:"inv_dialog"}})],1)},r=[],i=(a("7f7f"),a("5176")),s=a.n(i),o=(a("386d"),a("cebc")),l=(a("96cf"),a("3b8d")),c=a("8b3d"),u=a("7502"),d=a("2f62"),h=a("fa7d"),m=a("f8aa"),v=a("bc3a"),p=a.n(v),f={components:{UserForm:c["a"],InvForm:u["a"],HeadingSection:m["a"]},metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:this.$t("users.TITLE")+" - %s"}},data:function(){return{searchInput:"",dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",inv_dialog:!1,pagination:{},editedItem:{},editedInv:{},invUser:{},defaultItem:{},fieldsToSearch:["name","email","role","city","country","phone"]}},computed:{roles:function(){return[{name:this.$t("roles.ADMIN"),value:"admin"},{name:this.$t("roles.USER"),value:"user"}]},allCities:function(){return this.$store.state.cities.allCities},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("users.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("users.headers.EMAIL"),align:"left",sortable:!0,value:"email"},{text:this.$i18n.t("users.headers.ROLE"),align:"left",sortable:!0,value:"role"},{text:this.$i18n.t("users.headers.VERIFIED"),align:"left",sortable:!0,value:"verified"},{text:this.$i18n.t("users.headers.CITY"),align:"left",sortable:!0,value:"city"},{text:this.$i18n.t("users.headers.COUNTRY"),align:"left",sortable:!0,value:"country"},{text:this.$i18n.t("users.headers.PHONE"),align:"left",sortable:!0,value:"phone"},{text:this.$i18n.t("common.CREATED"),align:"left",sortable:!0,value:"createdAt"},{text:this.$i18n.t("common.UPDATED"),align:"left",sortable:!0,value:"updatedAt"}]},items:function(){return this.$store.state.adminUsers.users},totalItems:function(){return this.$store.state.adminUsers.totalUsers}},watch:{pagination:{handler:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),deep:!0},search:function(){var t=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){t.doSearch()},400)}},methods:Object(o["a"])({},Object(d["b"])(["getAllCities","getUsers","editUser","saveUser","deleteUser"]),{getFormat:function(t){return window.__localeId__=this.$store.getters.locale,Object(h["f"])(t,"ddd, MMMM D YYYY, h:mm a")},roleName:function(t){return"admin"===t?this.$t("roles.ADMIN"):this.$t("roles.USER")},trueFalse:function(t){return t?'<i aria-hidden="true" class="v-icon material-icons green--text" style="font-size: 16px;">done</i>':'<i aria-hidden="true" class="v-icon material-icons red--text" style="font-size: 16px;">clear</i>'},doSearch:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(t){this.editedItem=s()({},t),this.dialog=!0},editInvestment:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,p.a.get("/investments/user_id/".concat(e._id));case 3:a=t.sent,n=a.data,console.log(n),this.editedInv=n,this.invUser=e,this.inv_dialog=!0;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteItem:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm(this.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:this.$t("common.WARNING"),buttonTrueText:this.$t("common.DELETE"),buttonFalseText:this.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"yellow lighten3"});case 3:if(a=t.sent,!a){t.next=11;break}return this.dataTableLoading=!0,t.next=8,this.deleteUser(e._id);case 8:return t.next=10,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 10:this.dataTableLoading=!1;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.dataTableLoading=!1;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));function e(e){return t.apply(this,arguments)}return e}(),saveInv:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.dataTableLoading=!0,!e._id){t.next=10;break}return t.next=5,this.editUser(e);case 5:return t.next=7,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 7:this.dataTableLoading=!1,t.next=15;break;case 10:return t.next=12,this.saveUser({name:e.name,email:e.email,password:e.password,role:e.role,phone:e.phone,city:e.city,country:e.country});case 12:return t.next=14,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 14:this.dataTableLoading=!1;case 15:return t.abrupt("return");case 18:return t.prev=18,t.t0=t["catch"](0),this.dataTableLoading=!1,t.abrupt("return");case 22:case"end":return t.stop()}},t,this,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAllCities();case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return");case 8:case"end":return t.stop()}},t,this,[[0,5]])}));function e(){return t.apply(this,arguments)}return e}()},g=f,b=(a("59ee"),a("2877")),T=a("6544"),_=a.n(T),x=a("8336"),I=a("8fea"),E=a("0e8f"),$=a("132d"),y=a("a722"),w=a("2677"),L=a("3a2f"),S=Object(b["a"])(g,n,r,!1,null,null,null);e["default"]=S.exports;_()(S,{VBtn:x["a"],VDataTable:I["a"],VFlex:E["a"],VIcon:$["a"],VLayout:y["a"],VTextField:w["a"],VTooltip:L["a"]})},"789b":function(t,e,a){},"98c7":function(t,e,a){},b27c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-site"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("HeadingSection",{attrs:{title:t.$t("PATIENTS_LIST.TITLE"),icon:"people"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:t.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","text-xs-right":"","mb-2":"","mt-2":"","pr-2":""}},[a("v-btn",{staticClass:"btnNewItem pr-4",attrs:{color:"primary"},on:{click:function(e){t.editedItem={},t.dialog=!0}}},[a("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v("\n        "+t._s(t.$t("PATIENTS_LIST.dataTable.NEW_ITEM"))+"\n      ")],1),a("UserForm",{attrs:{save:t.save,item:t.editedItem},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"","pa-3":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{"must-sort":"",loading:t.dataTableLoading,"rows-per-page-text":t.$t("dataTable.ROWS_PER_PAGE"),"no-data-text":t.$t("dataTable.NO_DATA"),"no-results-text":t.$t("dataTable.NO_RESULTS"),"rows-per-page-items":[5,10,25],headers:t.headers,items:t.items,pagination:t.pagination,"total-items":t.totalItems},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"fill-height px-0"},[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("edit")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editInvestment(e.item)}},slot:"activator"},[a("v-icon",[t._v("attach_money")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT_INVESTMENT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.deleteItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v(t._s(t.$t("dataTable.DELETE")))])],1)],1)],1),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(t.roleName(e.item.role)))]),a("td",{domProps:{innerHTML:t._s(t.trueFalse(e.item.verified))}}),a("td",[t._v(t._s(e.item.city))]),a("td",[t._v(t._s(e.item.country))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(t.getFormat(e.item.createdAt)))]),a("td",[t._v(t._s(t.getFormat(e.item.updatedAt)))])]}},{key:"pageText",fn:function(e){return[t._v("\n        "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" "+t._s(t.$t("dataTable.OF"))+"\n        "+t._s(e.itemsLength)+"\n      ")]}},{key:"no-data",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_RESULTS")))]},proxy:!0}])})],1),a("ErrorMessage"),a("SuccessMessage"),a("InvForm",{attrs:{save:t.saveInv,item:t.editedInv,user:t.invUser},model:{value:t.inv_dialog,callback:function(e){t.inv_dialog=e},expression:"inv_dialog"}})],1)},r=[],i=(a("7f7f"),a("5176")),s=a.n(i),o=(a("386d"),a("cebc")),l=(a("96cf"),a("3b8d")),c=a("8b3d"),u=a("7502"),d=a("2f62"),h=a("fa7d"),m=a("f8aa"),v=a("bc3a"),p=a.n(v),f={components:{UserForm:c["a"],InvForm:u["a"],HeadingSection:m["a"]},metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:this.$t("users.TITLE")+" - %s"}},data:function(){return{searchInput:"",dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",inv_dialog:!1,pagination:{},editedItem:{},editedInv:{},invUser:{},defaultItem:{},fieldsToSearch:["name","email","role","city","country","phone"]}},computed:{roles:function(){return[{name:this.$t("roles.ADMIN"),value:"admin"},{name:this.$t("roles.USER"),value:"user"}]},allCities:function(){return this.$store.state.cities.allCities},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("users.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("users.headers.EMAIL"),align:"left",sortable:!0,value:"email"},{text:this.$i18n.t("users.headers.ROLE"),align:"left",sortable:!0,value:"role"},{text:this.$i18n.t("users.headers.VERIFIED"),align:"left",sortable:!0,value:"verified"},{text:this.$i18n.t("users.headers.CITY"),align:"left",sortable:!0,value:"city"},{text:this.$i18n.t("users.headers.COUNTRY"),align:"left",sortable:!0,value:"country"},{text:this.$i18n.t("users.headers.PHONE"),align:"left",sortable:!0,value:"phone"},{text:this.$i18n.t("common.CREATED"),align:"left",sortable:!0,value:"createdAt"},{text:this.$i18n.t("common.UPDATED"),align:"left",sortable:!0,value:"updatedAt"}]},items:function(){return this.$store.state.adminUsers.users},totalItems:function(){return this.$store.state.adminUsers.totalUsers}},watch:{pagination:{handler:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),deep:!0},search:function(){var t=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){t.doSearch()},400)}},methods:Object(o["a"])({},Object(d["b"])(["getAllCities","getUsers","editUser","saveUser","deleteUser"]),{getFormat:function(t){return window.__localeId__=this.$store.getters.locale,Object(h["f"])(t,"ddd, MMMM D YYYY, h:mm a")},roleName:function(t){return"admin"===t?this.$t("roles.ADMIN"):this.$t("roles.USER")},trueFalse:function(t){return t?'<i aria-hidden="true" class="v-icon material-icons green--text" style="font-size: 16px;">done</i>':'<i aria-hidden="true" class="v-icon material-icons red--text" style="font-size: 16px;">clear</i>'},doSearch:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(t){this.editedItem=s()({},t),this.dialog=!0},editInvestment:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,p.a.get("/investments/user_id/".concat(e._id));case 3:a=t.sent,n=a.data,console.log(n),this.editedInv=n,this.invUser=e,this.inv_dialog=!0;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteItem:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm(this.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:this.$t("common.WARNING"),buttonTrueText:this.$t("common.DELETE"),buttonFalseText:this.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"yellow lighten3"});case 3:if(a=t.sent,!a){t.next=11;break}return this.dataTableLoading=!0,t.next=8,this.deleteUser(e._id);case 8:return t.next=10,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 10:this.dataTableLoading=!1;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.dataTableLoading=!1;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));function e(e){return t.apply(this,arguments)}return e}(),saveInv:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.dataTableLoading=!0,!e._id){t.next=10;break}return t.next=5,this.editUser(e);case 5:return t.next=7,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 7:this.dataTableLoading=!1,t.next=15;break;case 10:return t.next=12,this.saveUser({name:e.name,email:e.email,password:e.password,role:e.role,phone:e.phone,city:e.city,country:e.country});case 12:return t.next=14,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 14:this.dataTableLoading=!1;case 15:return t.abrupt("return");case 18:return t.prev=18,t.t0=t["catch"](0),this.dataTableLoading=!1,t.abrupt("return");case 22:case"end":return t.stop()}},t,this,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAllCities();case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return");case 8:case"end":return t.stop()}},t,this,[[0,5]])}));function e(){return t.apply(this,arguments)}return e}()},g=f,b=(a("0043"),a("2877")),T=a("6544"),_=a.n(T),x=a("8336"),I=a("8fea"),E=a("0e8f"),$=a("132d"),y=a("a722"),w=a("2677"),L=a("3a2f"),S=Object(b["a"])(g,n,r,!1,null,null,null);e["default"]=S.exports;_()(S,{VBtn:x["a"],VDataTable:I["a"],VFlex:E["a"],VIcon:$["a"],VLayout:y["a"],VTextField:w["a"],VTooltip:L["a"]})},e10c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bg-site"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md4:"","mt-3":"","pl-4":""}},[a("HeadingSection",{attrs:{title:t.$t("users.TITLE"),icon:"people"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","px-3":""}},[a("v-text-field",{attrs:{"append-icon":"search",label:t.$t("dataTable.SEARCH"),"single-line":"","hide-details":"",clearable:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:"","text-xs-right":"","mb-2":"","mt-2":"","pr-2":""}},[a("v-btn",{staticClass:"btnNewItem pr-4",attrs:{color:"primary"},on:{click:function(e){t.editedItem={},t.dialog=!0}}},[a("v-icon",{staticClass:"mr-2"},[t._v("add")]),t._v("\n        "+t._s(t.$t("users.NEW_ITEM"))+"\n      ")],1),a("UserForm",{attrs:{save:t.save,item:t.editedItem},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)],1),a("v-flex",{attrs:{xs12:"",sm12:"","pa-3":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{"must-sort":"",loading:t.dataTableLoading,"rows-per-page-text":t.$t("dataTable.ROWS_PER_PAGE"),"no-data-text":t.$t("dataTable.NO_DATA"),"no-results-text":t.$t("dataTable.NO_RESULTS"),"rows-per-page-items":[5,10,25],headers:t.headers,items:t.items,pagination:t.pagination,"total-items":t.totalItems},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"fill-height px-0"},[a("v-layout",{staticClass:"justify-center"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("edit")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.editInvestment(e.item)}},slot:"activator"},[a("v-icon",[t._v("attach_money")])],1),a("span",[t._v(t._s(t.$t("dataTable.EDIT_INVESTMENT")))])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return t.deleteItem(e.item)}},slot:"activator"},[a("v-icon",[t._v("delete")])],1),a("span",[t._v(t._s(t.$t("dataTable.DELETE")))])],1)],1)],1),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.email))]),a("td",[t._v(t._s(t.roleName(e.item.role)))]),a("td",{domProps:{innerHTML:t._s(t.trueFalse(e.item.verified))}}),a("td",[t._v(t._s(e.item.city))]),a("td",[t._v(t._s(e.item.country))]),a("td",[t._v(t._s(e.item.phone))]),a("td",[t._v(t._s(t.getFormat(e.item.createdAt)))]),a("td",[t._v(t._s(t.getFormat(e.item.updatedAt)))])]}},{key:"pageText",fn:function(e){return[t._v("\n        "+t._s(e.pageStart)+" - "+t._s(e.pageStop)+" "+t._s(t.$t("dataTable.OF"))+"\n        "+t._s(e.itemsLength)+"\n      ")]}},{key:"no-data",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_DATA")))]},proxy:!0},{key:"no-results",fn:function(){return[t._v(t._s(t.$t("dataTable.NO_RESULTS")))]},proxy:!0}])})],1),a("ErrorMessage"),a("SuccessMessage"),a("InvForm",{attrs:{save:t.saveInv,item:t.editedInv,user:t.invUser},model:{value:t.inv_dialog,callback:function(e){t.inv_dialog=e},expression:"inv_dialog"}})],1)},r=[],i=(a("7f7f"),a("5176")),s=a.n(i),o=(a("386d"),a("cebc")),l=(a("96cf"),a("3b8d")),c=a("8b3d"),u=a("7502"),d=a("2f62"),h=a("fa7d"),m=a("f8aa"),v=a("bc3a"),p=a.n(v),f={components:{UserForm:c["a"],InvForm:u["a"],HeadingSection:m["a"]},metaInfo:function(){return{title:this.$store.getters.appTitle,titleTemplate:this.$t("users.TITLE")+" - %s"}},data:function(){return{searchInput:"",dataTableLoading:!0,delayTimer:null,dialog:!1,search:"",inv_dialog:!1,pagination:{},editedItem:{},editedInv:{},invUser:{},defaultItem:{},fieldsToSearch:["name","email","role","city","country","phone"]}},computed:{roles:function(){return[{name:this.$t("roles.ADMIN"),value:"admin"},{name:this.$t("roles.USER"),value:"user"}]},allCities:function(){return this.$store.state.cities.allCities},headers:function(){return[{text:this.$i18n.t("dataTable.ACTIONS"),value:"_id",sortable:!1,width:100},{text:this.$i18n.t("users.headers.NAME"),align:"left",sortable:!0,value:"name"},{text:this.$i18n.t("users.headers.EMAIL"),align:"left",sortable:!0,value:"email"},{text:this.$i18n.t("users.headers.ROLE"),align:"left",sortable:!0,value:"role"},{text:this.$i18n.t("users.headers.VERIFIED"),align:"left",sortable:!0,value:"verified"},{text:this.$i18n.t("users.headers.CITY"),align:"left",sortable:!0,value:"city"},{text:this.$i18n.t("users.headers.COUNTRY"),align:"left",sortable:!0,value:"country"},{text:this.$i18n.t("users.headers.PHONE"),align:"left",sortable:!0,value:"phone"},{text:this.$i18n.t("common.CREATED"),align:"left",sortable:!0,value:"createdAt"},{text:this.$i18n.t("common.UPDATED"),align:"left",sortable:!0,value:"updatedAt"}]},items:function(){return this.$store.state.adminUsers.users},totalItems:function(){return this.$store.state.adminUsers.totalUsers}},watch:{pagination:{handler:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),deep:!0},search:function(){var t=this;clearTimeout(this.delayTimer),this.delayTimer=setTimeout(function(){t.doSearch()},400)}},methods:Object(o["a"])({},Object(d["b"])(["getAllCities","getUsers","editUser","saveUser","deleteUser"]),{getFormat:function(t){return window.__localeId__=this.$store.getters.locale,Object(h["f"])(t,"ddd, MMMM D YYYY, h:mm a")},roleName:function(t){return"admin"===t?this.$t("roles.ADMIN"):"user"===t?this.$t("roles.USER"):this.$t("roles.PATIENT")},trueFalse:function(t){return t?'<i aria-hidden="true" class="v-icon material-icons green--text" style="font-size: 16px;">done</i>':'<i aria-hidden="true" class="v-icon material-icons red--text" style="font-size: 16px;">clear</i>'},doSearch:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.dataTableLoading=!0,t.next=4,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 4:this.dataTableLoading=!1,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this.dataTableLoading=!1;case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),buildSearch:function(){return this.search?{query:this.search,fields:this.fieldsToSearch.join(",")}:{}},editItem:function(t){this.editedItem=s()({},t),this.dialog=!0},editInvestment:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,p.a.get("/investments/user_id/".concat(e._id));case 3:a=t.sent,n=a.data,console.log(n),this.editedInv=n,this.invUser=e,this.inv_dialog=!0;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),deleteItem:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm(this.$t("common.DO_YOU_REALLY_WANT_TO_DELETE_THIS_ITEM"),{title:this.$t("common.WARNING"),buttonTrueText:this.$t("common.DELETE"),buttonFalseText:this.$t("common.CANCEL"),buttonTrueColor:"red lighten3",buttonFalseColor:"yellow lighten3"});case 3:if(a=t.sent,!a){t.next=11;break}return this.dataTableLoading=!0,t.next=8,this.deleteUser(e._id);case 8:return t.next=10,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 10:this.dataTableLoading=!1;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.dataTableLoading=!1;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));function e(e){return t.apply(this,arguments)}return e}(),saveInv:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),save:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,this.dataTableLoading=!0,!e._id){t.next=10;break}return t.next=5,this.editUser(e);case 5:return t.next=7,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 7:this.dataTableLoading=!1,t.next=15;break;case 10:return t.next=12,this.saveUser({name:e.name,email:e.email,password:e.password,role:e.role,phone:e.phone,city:e.city,country:e.country});case 12:return t.next=14,this.getUsers(Object(h["a"])(this.pagination,this.buildSearch()));case 14:this.dataTableLoading=!1;case 15:return t.abrupt("return");case 18:return t.prev=18,t.t0=t["catch"](0),this.dataTableLoading=!1,t.abrupt("return");case 22:case"end":return t.stop()}},t,this,[[0,18]])}));function e(e){return t.apply(this,arguments)}return e}()}),created:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.getAllCities();case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return");case 8:case"end":return t.stop()}},t,this,[[0,5]])}));function e(){return t.apply(this,arguments)}return e}()},g=f,b=(a("e954"),a("2877")),T=a("6544"),_=a.n(T),x=a("8336"),I=a("8fea"),E=a("0e8f"),$=a("132d"),y=a("a722"),w=a("2677"),L=a("3a2f"),S=Object(b["a"])(g,n,r,!1,null,null,null);e["default"]=S.exports;_()(S,{VBtn:x["a"],VDataTable:I["a"],VFlex:E["a"],VIcon:$["a"],VLayout:y["a"],VTextField:w["a"],VTooltip:L["a"]})},e954:function(t,e,a){"use strict";var n=a("53c9"),r=a.n(n);r.a}}]);